{% extends "base.html" %}

{% block title %}Add Product - EcoFinds{% endblock %}

{% block content %}
<div class="add-product-container" style="max-width: 600px; margin: 0 auto;">
    <div class="card">
        <div class="text-center mb-3">
            <i class="fas fa-plus-circle" style="font-size: 3rem; color: #4CAF50; margin-bottom: 1rem;"></i>
            <h2 style="color: #2d5a27; margin-bottom: 0.5rem;">Add New Product</h2>
            <p style="color: #666;">List your item and give it a new life</p>
        </div>

        <!-- ✅ File upload enabled -->
        <form method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">
                    <i class="fas fa-tag"></i> Product Title *
                </label>
                <input type="text" id="title" name="title" class="form-control" required 
                       placeholder="Enter a descriptive title for your product">
            </div>

            <div class="form-group">
                <label for="category">
                    <i class="fas fa-list"></i> Category *
                </label>
                <select id="category" name="category" class="form-control" required>
                    <option value="">Select a category</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Clothing">Clothing & Fashion</option>
                    <option value="Books">Books & Media</option>
                    <option value="Home">Home & Garden</option>
                    <option value="Sports">Sports & Outdoors</option>
                    <option value="Toys">Toys & Games</option>
                    <option value="Automotive">Automotive</option>
                    <option value="Health">Health & Beauty</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="price">
                    <i class="fas fa-dollar-sign"></i> Price *
                </label>
                <input type="number" id="price" name="price" class="form-control" step="0.01" min="0" required 
                       placeholder="0.00">
            </div>

            <div class="form-group">
                <label for="description">
                    <i class="fas fa-align-left"></i> Description
                </label>
                <textarea id="description" name="description" class="form-control" rows="4" 
                          placeholder="Describe your product's condition, features, and any other relevant details..."></textarea>
            </div>

            <!-- ✅ Changed from URL to file upload -->
            <div class="form-group">
                <label for="image">
                    <i class="fas fa-image"></i> Upload Product Image
                </label>
                <input type="file" id="image" name="image" class="form-control" accept="image/*">
                <small style="color: #666; font-size: 0.8rem;">
                    Tip: Upload a clear, well-lit image of your product
                </small>
            </div>

            <input type="hidden" name="user_id" value="{{ session['user_id'] }}">

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary" style="flex: 1;">
                    <i class="fas fa-plus"></i> List Product
                </button>
                <a href="{{ url_for('home') }}" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancel
                </a>
            </div>
        </form>
    </div>

    <!-- Tips Section -->
    <div class="card mt-3" style="background: rgba(76, 175, 80, 0.05);">
        <h3 style="color: #2d5a27; margin-bottom: 1rem;">
            <i class="fas fa-lightbulb"></i> Tips for a Great Listing
        </h3>
        <ul style="color: #666; line-height: 1.8;">
            <li><strong>Clear Title:</strong> Use descriptive keywords that buyers would search for</li>
            <li><strong>Honest Description:</strong> Be transparent about the item's condition</li>
            <li><strong>Fair Price:</strong> Research similar items to price competitively</li>
            <li><strong>Good Photos:</strong> Clear, well-lit images increase buyer interest</li>
            <li><strong>Quick Response:</strong> Reply promptly to buyer inquiries</li>
        </ul>
    </div>
</div>
{% endblock %}
